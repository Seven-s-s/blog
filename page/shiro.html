<div class="container-fixed">
    <div class="col-content" style="width:100%">
        <div class="inner">
            <article class="article-list">
                <input type="hidden" value="@Model.BlogTypeID" id="blogtypeid" />
                <section class="article-item" style="background-color: auto;">
                    <aside class="title" style="line-height:1.5;">
                        <h2>mysql</h2>
                        <p class="fc-grey fs-14">
                            <small>
                                作者：<a href="javascript:void(0)" target="_blank" class="fc-link">胡某</a>
                            </small>
                            <small class="ml10">观看次数：<i class="readcount">999+</i></small>
                            <small class="ml10">更新于 <label>2020-11-14 16:08:21</label> </small>
                        </p>
                    </aside>
                    <div class="time mt10" style="padding-bottom:0;">
                        <span class="day">1</span>
                        <span class="month fs-18">7<small class="fs-14">月</small></span>
                        <span class="year fs-18">2020</span>
                    </div>
                    <div id='write' class=''>
                        <h2><a name="一权限管理" class="md-header-anchor"></a><span>一、权限管理</span></h2>
                        <p><span>1.什么是权限管理？</span></p>
                        <blockquote>
                            <p><span>不同身份的用户进入到系统中能够完成的操作是不同的，我们对于不同的用户进行的可执行的操作的管理称之为权限管理。</span></p>
                        </blockquote>
                        <h2><a name="二shiro简介" class="md-header-anchor"></a><span>二、Shiro简介</span></h2>
                        <h3><a name="1认证授权流程" class="md-header-anchor"></a><span>1.认证授权流程</span></h3>
                        <blockquote>
                            <p><span>认证：对用户的身份进行检查（登录验证）</span></p>
                            <p><span>授权：对用户的权限进行检查（是否有对应的操作权限）</span></p>
                        </blockquote>
                        <h3><a name="2安全框架" class="md-header-anchor"></a><span>2.安全框架</span></h3>
                        <blockquote>
                            <p><span>帮助我们完成用户身份认证及权限检查功能框架</span></p>
                            <p><span>常用的安全框架</span></p>
                            <ul>
                                <li><span>Shrio：Apache Shiro是一个功能强大并且易用的Java安全框架（小而简单）</span></li>
                            </ul>
                            <ul>
                                <li><span>spring Security：基于Spring的一个安全框架，依赖于Spring</span></li>
                            </ul>
                            <ul>
                                <li><span>OAuth2：第三方授权登录</span></li>
                            </ul>
                            <ul>
                                <li><span>自定义安全认证中心</span></li>
                            </ul>
                        </blockquote>
                        <h3><a name="3shiro" class="md-header-anchor"></a><span>3.Shiro</span></h3>
                        <blockquote>
                            <ul>
                                <li><span>Apache Shiro是一个功能强大并且易用的Java安全框架</span></li>
                            </ul>
                            <ul>
                                <li><span>可以完成用户认证、授权、密码以及会话管理</span></li>
                            </ul>
                            <ul>
                                <li><span>可以在任何应用系统中使用（主要针对于单体项目的权限管理）</span></li>
                            </ul>
                        </blockquote>
                        <h2><a name="三shiro的工作原理" class="md-header-anchor"></a><span>三、Shiro的工作原理</span></h2>
                        <h3><a name="1shiro的核心功能" class="md-header-anchor"></a><span>1.Shiro的核心功能</span></h3>
                        <blockquote>
                            <p><span>Authentication：认证，验证用户是否有相应的身份-登录验证；</span></p>
                            <p><span>Authorization：授权，即权限验证；对已经通过的用户检查是否具有某个权限或者角色，从而控制是否能进行某种操作</span></p>
                            <p><span>Session Management：会话管理，用户在认证成功之后创建会话，在没有退出之前，之前用户的所有信息都将会保存在这个会话中，可以是普通的JavaSE应用，也可以是Web应用；</span>
                            </p>
                            <p><span>Cryptography：加密，对敏感信息进行加密处理，shiro就提供这种加密机制；</span></p>
                            <p><span>支持的特性：</span></p>
                            <ul>
                                <li><span>Web Support - Shiro提供l过滤器，可以通过过滤器拦截Web请求处理web应用的访问控制</span></li>
                                <li><span>Caching缓存支持，shiro可以缓存用户信息以及用户的角色授权信息，可以提高执行效率</span></li>
                                <li><span>Concurrency shiro支持多线程应用</span></li>
                                <li><span>Testing提供测试支持</span></li>
                                <li><span>Run As允许一个用户以另一种身份去访问</span></li>
                                <li><span>Remember me</span></li>
                            </ul>
                            <p><span>说明：Shiro是一个安全框架，不提供用户以及权限的维护（用户权限的权限管理需要我们自己去设计）</span></p>
                        </blockquote>
                        <h3><a name="2shiro核心组件" class="md-header-anchor"></a><span>2.Shiro核心组件</span></h3>
                        <p><img src="Shiro.assets/shiro.jpg" referrerpolicy="no-referrer" alt="shiro"></p>
                        <p><span>Shiro三大核心组件：Subject、Security Manager、Realms</span></p>
                        <blockquote>
                            <ul>
                                <li>
                                    <p><span>Subject，表示待认证和授权的用户</span></p>
                                </li>
                                <li>
                                    <p><span>Security Manager，他是Shiro框架的核心，Shiro就是通过Security Manger来进行内部实例的管理，并通过它来提供安全框架的各种服务</span>
                                    </p>
                                    <ul>
                                        <li><span>Authenticator，认证器</span></li>
                                        <li><span>Anthorizer，授权器</span></li>
                                        <li><span>SessionManager，会话管理器</span></li>
                                        <li><span>CacheManager，缓存管理器</span></li>
                                    </ul>
                                </li>
                                <li>
                                    <p><span>Realms，相当于Shiro进行认证授权的数据源，充当了Shiro与安全数据之间的“桥梁”或者“连接器”，也就是说，当用户进行认证（登录）和授权（访问控制）验证时，Shiro会用应用配置的Realm中查找用户以及权限信息</span>
                                    </p>
                                </li>
                            </ul>
                        </blockquote>
                        <h2><a name="四基于javase应用" class="md-header-anchor"></a><span>四、基于JavaSE应用</span></h2>
                        <h3><a name="1创建maven项目" class="md-header-anchor"></a><span>1.创建Maven项目</span></h3>
                        <h3><a name="2导入shiro依赖" class="md-header-anchor"></a><span>2.导入Shiro依赖</span></h3>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                            lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    </div>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.apache.shiro<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span>shiro-core<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>1.4.1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 112px;"></div>
                    <div class="CodeMirror-gutters" style="display: none; height: 112px;"></div>
                    </div>
                    </div>
                    </pre>
                    <h3><a name="3创建shiro配置文件" class="md-header-anchor"></a><span>3.创建Shiro配置文件</span></h3>
                    <blockquote>
                        <p><span>在resource目录下创建名为shiro.ini的文件</span></p>
                        <p><span>在文件中完成用户角色以及权限的配置</span></p>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                            lang="ini"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="ini"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-header">[users]</span></span></pre>
                        </div>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">zhangsan</span>=<span class="cm-quote">123456,seller</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">lisi</span>=<span class="cm-quote">123456,ckmanager</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">admin</span>=<span class="cm-quote">222222,admin</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-header">[roles]</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">admin</span>=<span class="cm-quote">*</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">seller</span>=<span class="cm-quote">order-add,order-del,order-list</span></span></pre>
                        <div class="" style="position: relative;">
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">ckmanager</span>=<span class="cm-quote">ck-add,ck-del,ck-list</span></span></pre>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 202px;">
                        </div>
                        <div class="CodeMirror-gutters" style="display: none; height: 202px;"></div>
                        </div>
                        </div>
                        </pre>
                    </blockquote>
                    <p><span>4.Shiro的基本使用</span></p>
                    <blockquote>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                            style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">package</span> <span class="cm-def">com</span>.<span class="cm-variable">hu</span>.<span class="cm-variable">shiro</span>;</span></pre>
                        </div>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">SecurityUtils</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">authc</span>.<span class="cm-variable">UsernamePasswordToken</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">mgt</span>.<span class="cm-variable">DefaultSecurityManager</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">realm</span>.<span class="cm-variable">text</span>.<span class="cm-variable">IniRealm</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">subject</span>.<span class="cm-variable">Subject</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">util</span>.<span class="cm-variable">Scanner</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">TestShiro</span> {</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span class="cm-variable">main</span>(<span class="cm-variable-3">String</span>[] <span class="cm-variable">args</span>) {</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Scanner</span> <span class="cm-variable">scanner</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Scanner</span>(<span class="cm-variable">System</span>.<span class="cm-variable">in</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"请输入账号"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">username</span> <span class="cm-operator">=</span> <span class="cm-variable">scanner</span>.<span class="cm-variable">nextLine</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"请输入密码"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-variable">scanner</span>.<span class="cm-variable">nextLine</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//1.创建安全管理器</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">DefaultSecurityManager</span> <span class="cm-variable">securityManager</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">DefaultSecurityManager</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//2.创建realm</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">IniRealm</span> <span class="cm-variable">iniRealm</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">IniRealm</span>(<span class="cm-string">"classpath:shiro.ini"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//3.将realm设置给安全管理器</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">securityManager</span>.<span class="cm-variable">setRealm</span>(<span class="cm-variable">iniRealm</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//4.将realm设置给SecurityUtils工具</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">SecurityUtils</span>.<span class="cm-variable">setSecurityManager</span>(<span class="cm-variable">securityManager</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//5.通过SecurityUtils工具过去Subject对象</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Subject</span> <span class="cm-variable">subject</span> <span class="cm-operator">=</span> <span class="cm-variable">SecurityUtils</span>.<span class="cm-variable">getSubject</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//认证流程</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//1.将认证账号密码封装到token对象中</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">UsernamePasswordToken</span> <span class="cm-variable">token</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">UsernamePasswordToken</span>(<span class="cm-variable">username</span>,<span class="cm-variable">password</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//2.通过subject对象调用login方法进行认证申请</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">boolean</span> <span class="cm-variable">flag</span> <span class="cm-operator">=</span> <span class="cm-atom">false</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">subject</span>.<span class="cm-variable">login</span>(<span class="cm-variable">token</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">flag</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }<span class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span class="cm-variable">e</span>){</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">flag</span> <span class="cm-operator">=</span> <span class="cm-atom">false</span>;</span></pre>
                        <div class="" style="position: relative;">
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre>
                        </div>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">flag</span><span class="cm-operator">?</span><span class="cm-string">"登录成功"</span>:<span class="cm-string">"登录失败"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//授权</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//判断是否有某个角色</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">subject</span>.<span class="cm-variable">hasRole</span>(<span class="cm-string">"seller"</span>));</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//判断是否有某个权限</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">subject</span>.<span class="cm-variable">isPermitted</span>(<span class="cm-string">"order-del"</span>));</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                        <div class="" style="position: relative;">
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1075px;">
                        </div>
                        <div class="CodeMirror-gutters" style="display: none; height: 1075px;"></div>
                        </div>
                        </div>
                        </pre>
                    </blockquote>
                    <h3><a name="4shiro认证流程" class="md-header-anchor"></a><span>4.Shiro认证流程</span></h3>
                    <blockquote>
                        <p><span>1.通过subject.login(token)进行登录验证，就会将token包含的用户信息（账号和密码）传递给SecurityManager</span></p>
                        <p><span>2.SecurityManger将会调用Authenticator进行身份验证</span></p>
                        <p><span>3.Authenticator把token传递给对应的Realm</span></p>
                        <p><span>4.Realm根据得到的token，调用doGetAuthenticationInfo方法进行认证（如果认证失败通过抛出异常提示认证器）</span></p>
                        <p><span>5.将认证结果一层一层的返回到subject（如果subject.login抛出异常则表示认证失败 ）</span></p>
                    </blockquote>
                    <h2><a name="五springboot应用整合shiro" class="md-header-anchor"></a><span>五、SpringBoot应用整合Shiro</span></h2>
                    <h3><a name="1创建springboot应用" class="md-header-anchor"></a><span>1.创建SpringBoot应用</span></h3>
                    <blockquote>
                        <p><span>lombok</span></p>
                        <p><span>spring web</span></p>
                        <p><span>thymeleaf</span></p>
                    </blockquote>
                    <h3><a name="2整合druid和mybatis" class="md-header-anchor"></a><span>2.整合Druid和Mybatis</span></h3>
                    <p><span>依赖</span></p>
                    <blockquote>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"
                            style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!--druid--&gt;</span></span></pre>
                        </div>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>com.alibaba<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span>druid-spring-boot-starter<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>1.1.7<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!--mysql--&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>mysql<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span>mysql-connector-java<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>8.0.20<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!--mybatis--&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.mybatis.spring.boot<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span>mybatis-spring-boot-starter<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>2.1.1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 403px;">
                        </div>
                        <div class="CodeMirror-gutters" style="display: none; height: 403px;"></div>
                        </div>
                        </div>
                        </pre>
                    </blockquote>
                    <p><span>配置</span></p>
                    <blockquote>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                            lang="yml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="yml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                        </div>
                        <div class="CodeMirror-measure"></div>
                        <div style="position: relative; z-index: 1;"></div>
                        <div class="CodeMirror-code" role="presentation" style="">
                            <div class="CodeMirror-activeline" style="position: relative;">
                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;">
                                </div>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">spring</span><span class="cm-meta">:</span></span></pre>
                            </div>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  datasource</span><span class="cm-meta">:</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp;  druid</span><span class="cm-meta">:</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  url</span><span class="cm-meta">: </span>jdbc<span class="cm-meta">:</span>mysql<span class="cm-meta">:</span>//localhost<span class="cm-meta">:</span>3306/user</span></pre>
                            <div class="" style="position: relative;">
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  driver-class-name</span><span class="cm-meta">: </span>com.mysql.jdbc.Driver</span></pre>
                            </div>
                            <div class="" style="position: relative;">
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  username</span><span class="cm-meta">: </span>root</span></pre>
                            </div>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  password</span><span class="cm-meta">: </span><span class="cm-number">123456</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  initial-size</span><span class="cm-meta">: </span><span class="cm-number">1</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  min-idle</span><span class="cm-meta">: </span><span class="cm-number">1</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom"> &nbsp; &nbsp;  max-active</span><span class="cm-meta">: </span><span class="cm-number">20</span></span></pre>
                            <div class="" style="position: relative;">
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">mybatis</span><span class="cm-meta">:</span></span></pre>
                            </div>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-atom">  mapper-locations</span><span class="cm-meta">: </span>classpath<span class="cm-meta">:</span>mapper/*.xml</span></pre>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 269px;">
                        </div>
                        <div class="CodeMirror-gutters" style="display: none; height: 269px;"></div>
                        </div>
                        </div>
                        </pre>
                    </blockquote>
                    <p><span>3.整合Shiro</span></p>
                    <p><span>导入依赖</span></p>
                    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                        lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!--shiro--&gt;</span></span></pre>
                    </div>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>org.apache.shiro<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span>shiro-spring<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>1.4.1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    <pre class=" CodeMirror-line "
                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div>
                    <div class="CodeMirror-gutters" style="display: none; height: 134px;"></div>
                    </div>
                    </div>
                    </pre>
                    <p><span>配置</span></p>
                    <blockquote>
                        <p><span>SpringBoot默认没有提供Shiro的自动配置</span></p>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                            style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">package</span> <span class="cm-def">com</span>.<span class="cm-variable">example</span>.<span class="cm-variable">demo</span>.<span class="cm-variable">config</span>;</span></pre>
                        </div>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">realm</span>.<span class="cm-variable">text</span>.<span class="cm-variable">IniRealm</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">spring</span>.<span class="cm-variable">web</span>.<span class="cm-variable">ShiroFilterFactoryBean</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">web</span>.<span class="cm-variable">mgt</span>.<span class="cm-variable">DefaultWebSecurityManager</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span class="cm-variable">Bean</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">stereotype</span>.<span class="cm-variable">Controller</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">util</span>.<span class="cm-variable">HashMap</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Controller</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">ShiroConfig</span> {</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">IniRealm</span> <span class="cm-variable">getIniRealm</span>(){</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">IniRealm</span> <span class="cm-variable">iniRealm</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">IniRealm</span>(<span class="cm-string">"classpath:shiro.ini"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">iniRealm</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">DefaultWebSecurityManager</span> <span class="cm-variable">getDefaultWebSecurityManager</span>(<span class="cm-variable">IniRealm</span> <span class="cm-variable">iniRealm</span>){</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">DefaultWebSecurityManager</span> <span class="cm-variable">securityManager</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">DefaultWebSecurityManager</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//securityManager要完成校验，需要realm</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">securityManager</span>.<span class="cm-variable">setRealm</span>(<span class="cm-variable">iniRealm</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">securityManager</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">ShiroFilterFactoryBean</span> <span class="cm-variable">shiroFilter</span>(<span class="cm-variable">DefaultWebSecurityManager</span> <span class="cm-variable">securityManager</span>){</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShiroFilterFactoryBean</span> <span class="cm-variable">filter</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ShiroFilterFactoryBean</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//过滤器就是Shiro进行权限校验的核心，进行认证和授权是需要SecurityManager的</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filter</span>.<span class="cm-variable">setSecurityManager</span>(<span class="cm-variable">securityManager</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//设置shiro的拦截规则</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//anon  匿名用户可访问</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//authc 认证用户可访问</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//user  使用RememberMe的用户可访问</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//perms 对应权限可访问</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//role  对应角色可访问</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>,<span class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">filterMap</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">HashMap</span><span class="cm-operator">&lt;&gt;</span>();</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/login.html"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/user/login"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/static/**"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/**"</span>,<span class="cm-string">"authc"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filter</span>.<span class="cm-variable">setFilterChainDefinitionMap</span>(<span class="cm-variable">filterMap</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//filter.setLoginUrl("/");</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//设置未授权的访问路径</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filter</span>.<span class="cm-variable">setUnauthorizedUrl</span>(<span class="cm-string">"/login.html"</span>);</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-keyword">return</span> <span class="cm-variable">filter</span>;</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                        <pre class=" CodeMirror-line "
                            role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1232px;">
                        </div>
                        <div class="CodeMirror-gutters" style="display: none; height: 1232px;"></div>
                        </div>
                        </div>
                        </pre>
                        <ul>
                            <li>
                                <p><span>认证测试</span></p>
                                <ul>
                                    <li>
                                        <p><span>UserServiceImpl.java</span></p>
                                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                                            style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                                        </div>
                                        <div class="CodeMirror-measure"></div>
                                        <div style="position: relative; z-index: 1;"></div>
                                        <div class="CodeMirror-code" role="presentation" style="">
                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                                    style="left: 0px; width: 0px;"></div>
                                                <pre class=" CodeMirror-line "
                                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">package</span> <span class="cm-def">com</span>.<span class="cm-variable">example</span>.<span class="cm-variable">demo</span>.<span class="cm-variable">service</span>;</span></pre>
                                            </div>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">SecurityUtils</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">authc</span>.<span class="cm-variable">UsernamePasswordToken</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">subject</span>.<span class="cm-variable">Subject</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">stereotype</span>.<span class="cm-variable">Service</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Service</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">UserServiceImpl</span> {</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">checkLogin</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>,<span class="cm-variable-3">String</span> <span class="cm-variable">password</span>) <span class="cm-keyword">throws</span> <span class="cm-variable">Exception</span>{</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Subject</span> <span class="cm-variable">subject</span> <span class="cm-operator">=</span> <span class="cm-variable">SecurityUtils</span>.<span class="cm-variable">getSubject</span>();</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">UsernamePasswordToken</span> <span class="cm-variable">token</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">UsernamePasswordToken</span>(<span class="cm-variable">username</span>,<span class="cm-variable">password</span>);</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">subject</span>.<span class="cm-variable">login</span>(<span class="cm-variable">token</span>);</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        <div
                                            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 336px;">
                                        </div>
                                        <div class="CodeMirror-gutters" style="display: none; height: 336px;"></div>
                                        </div>
                                        </div>
                                        </pre>
                                    </li>
                                    <li>
                                        <p><span>UserController</span></p>
                                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                                            style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                                        </div>
                                        <div class="CodeMirror-measure"></div>
                                        <div style="position: relative; z-index: 1;"></div>
                                        <div class="CodeMirror-code" role="presentation" style="">
                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                                    style="left: 0px; width: 0px;"></div>
                                                <pre class=" CodeMirror-line "
                                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">package</span> <span class="cm-def">com</span>.<span class="cm-variable">example</span>.<span class="cm-variable">demo</span>.<span class="cm-variable">controller</span>;</span></pre>
                                            </div>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">com</span>.<span class="cm-variable">example</span>.<span class="cm-variable">demo</span>.<span class="cm-variable">service</span>.<span class="cm-variable">UserServiceImpl</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">beans</span>.<span class="cm-variable">factory</span>.<span class="cm-variable">annotation</span>.<span class="cm-variable">Autowired</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">stereotype</span>.<span class="cm-variable">Controller</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">web</span>.<span class="cm-variable">bind</span>.<span class="cm-variable">annotation</span>.<span class="cm-variable">RequestMapping</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Controller</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@RequestMapping</span>(<span class="cm-string">"/user"</span>)</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">UserController</span> {</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Autowired</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable">UserServiceImpl</span> <span class="cm-variable">userService</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@RequestMapping</span>(<span class="cm-string">"/login"</span>)</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable-3">String</span> <span class="cm-variable">login</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>,<span class="cm-variable-3">String</span> <span class="cm-variable">password</span>){</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">userService</span>.<span class="cm-variable">checkLogin</span>(<span class="cm-variable">username</span>,<span class="cm-variable">password</span>);</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"登录成功"</span>);</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-string">"index"</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">Exception</span> <span class="cm-variable">e</span>) {</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"登录失败"</span>);</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-string">"login"</span>;</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        <div
                                            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 605px;">
                                        </div>
                                        <div class="CodeMirror-gutters" style="display: none; height: 605px;"></div>
                                        </div>
                                        </div>
                                        </pre>
                                    </li>
                                    <li>
                                        <p><span>login.html</span></p>
                                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                            lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                                        </div>
                                        <div class="CodeMirror-measure"></div>
                                        <div style="position: relative; z-index: 1;"></div>
                                        <div class="CodeMirror-code" role="presentation" style="">
                                            <div class="CodeMirror-activeline" style="position: relative;">
                                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                                    style="left: 0px; width: 0px;"></div>
                                                <pre class=" CodeMirror-line "
                                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span> <span class="cm-attribute">action</span>=<span class="cm-string">"user/login"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                            </div>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>账号：<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"username"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span>密码：<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"password"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                            <pre class=" CodeMirror-line "
                                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"登录"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">p</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                            <div class="" style="position: relative;">
                                                <pre class=" CodeMirror-line "
                                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                            </div>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        </div>
                                        <div
                                            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 112px;">
                                        </div>
                                        <div class="CodeMirror-gutters" style="display: none; height: 112px;"></div>
                                        </div>
                                        </div>
                                        </pre>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </blockquote>
                    <h2><a name="六springboot应用整合shiro-案例jdbcrealm）"
                            class="md-header-anchor"></a><span>六、SpringBoot应用整合Shiro-案例（JdbcRealm）</span></h2>
                    <h3><a name="1jdbcrealm介绍" class="md-header-anchor"></a><span>1.JdbcRealm介绍</span></h3>
                    <blockquote>
                        <p><span>如果使用JdbcRealm，则必须提供JdbcRealm所需的表结构（权限设计）</span></p>
                    </blockquote>
                    <h3><a name="2jdbcrealm规定的表结构" class="md-header-anchor"></a><span>2.JdbcRealm规定的表结构</span></h3>
                    <blockquote>
                        <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="mysql"
                            style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                        </div>
                        <div class="CodeMirror-measure"></div>
                        <div style="position: relative; z-index: 1;"></div>
                        <div class="CodeMirror-code" role="presentation" style="">
                            <div class="CodeMirror-activeline" style="position: relative;">
                                <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;">
                                </div>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 创建用户表</span></span></pre>
                            </div>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">table</span> users(</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>id <span class="cm-builtin">int</span> <span class="cm-keyword">primary</span> <span class="cm-keyword">key</span> <span class="cm-keyword">auto_increment</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  username <span class="cm-builtin">varchar</span>(<span class="cm-number">20</span>) <span class="cm-keyword">not</span> <span class="cm-atom">null</span> <span class="cm-keyword">unique</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">password</span> <span class="cm-builtin">varchar</span>(<span class="cm-number">20</span>) <span class="cm-keyword">not</span> <span class="cm-atom">null</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  password_salt <span class="cm-builtin">varchar</span>(<span class="cm-number">20</span>)</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;">);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> users(username,<span class="cm-keyword">password</span>) <span class="cm-keyword">values</span>(<span class="cm-string">'zhangsan'</span>,<span class="cm-string">'123456'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> users(username,<span class="cm-keyword">password</span>) <span class="cm-keyword">values</span>(<span class="cm-string">'lisi'</span>,<span class="cm-string">'123456'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> users(username,<span class="cm-keyword">password</span>) <span class="cm-keyword">values</span>(<span class="cm-string">'wangwu'</span>,<span class="cm-string">'123456'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> users(username,<span class="cm-keyword">password</span>) <span class="cm-keyword">values</span>(<span class="cm-string">'zhaoliu'</span>,<span class="cm-string">'123456'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> users(username,<span class="cm-keyword">password</span>) <span class="cm-keyword">values</span>(<span class="cm-string">'chengqi'</span>,<span class="cm-string">'123456'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 用户角色表</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">table</span> user_roles(</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>id <span class="cm-builtin">int</span> <span class="cm-keyword">primary</span> <span class="cm-keyword">key</span> <span class="cm-keyword">auto_increment</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  username <span class="cm-builtin">varchar</span>(<span class="cm-number">60</span>) <span class="cm-keyword">not</span> <span class="cm-atom">null</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  role_name <span class="cm-builtin">varchar</span>(<span class="cm-number">100</span>) <span class="cm-keyword">not</span> <span class="cm-atom">null</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;">);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- admin 系统管理员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- cmanager 仓库人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- xmanager 销售人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- kmanager 客服人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- zmanager 行政人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> user_roles(username,role_name) <span class="cm-keyword">values</span>(<span class="cm-string">'zhangsan'</span>,<span class="cm-string">'admin'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> user_roles(username,role_name) <span class="cm-keyword">values</span>(<span class="cm-string">'lisi'</span>,<span class="cm-string">'cmanager'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> user_roles(username,role_name) <span class="cm-keyword">values</span>(<span class="cm-string">'wangwu'</span>,<span class="cm-string">'xmanager'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> user_roles(username,role_name) <span class="cm-keyword">values</span>(<span class="cm-string">'zhaoliu'</span>,<span class="cm-string">'kmanager'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> user_roles(username,role_name) <span class="cm-keyword">values</span>(<span class="cm-string">'chengqi'</span>,<span class="cm-string">'zmanager'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 角色权限表</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">table</span> roles_permissions(</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>id <span class="cm-builtin">int</span> <span class="cm-keyword">primary</span> <span class="cm-keyword">key</span> <span class="cm-keyword">auto_increment</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  role_name <span class="cm-builtin">varchar</span>(<span class="cm-number">100</span>) <span class="cm-keyword">not</span> <span class="cm-atom">null</span>,</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  permission <span class="cm-builtin">varchar</span>(<span class="cm-number">100</span>) <span class="cm-keyword">not</span> <span class="cm-atom">null</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;">);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 管理员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'admin'</span>,<span class="cm-string">'*'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 仓库人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'cmanager'</span>,<span class="cm-string">'sys:c:save'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'cmanager'</span>,<span class="cm-string">'sys:c:delete'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'cmanager'</span>,<span class="cm-string">'sys:c:update'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'cmanager'</span>,<span class="cm-string">'sys:c:find'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 销售人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'xmanager'</span>,<span class="cm-string">'sys:x:save'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'xmanager'</span>,<span class="cm-string">'sys:x:delete'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'xmanager'</span>,<span class="cm-string">'sys:x:update'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'xmanager'</span>,<span class="cm-string">'sys:x:find'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 客服人员</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'cmanager'</span>,<span class="cm-string">'sys:c:update'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'cmanager'</span>,<span class="cm-string">'sys:c:find'</span>);</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">-- 行政人员</span></span></pre>
                            <div class="" style="position: relative;">
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">insert</span> <span class="cm-keyword">into</span> roles_permissions(role_name,permission) <span class="cm-keyword">values</span>(<span class="cm-string">'zmanager'</span>,<span class="cm-string">'sys:z:find'</span>);</span></pre>
                            </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                        <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1254px;">
                        </div>
                        <div class="CodeMirror-gutters" style="display: none; height: 1254px;"></div>
                        </div>
                        </div>
                        </pre>
                    </blockquote>
                    <h3><a name="3springboot整合shiro" class="md-header-anchor"></a><span>3.Springboot整合Shiro</span></h3>
                    <blockquote>
                        <p><span>创建Springboot应用</span></p>
                        <p><span>整合Druid和Mybatis</span></p>
                        <p><span>整合Shiro</span></p>
                        <ul>
                            <li>
                                <p><span>添加依赖</span></p>
                            </li>
                            <li>
                                <p><span>配置shiro</span></p>
                                <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                                    style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">package</span> <span class="cm-def">com</span>.<span class="cm-variable">example</span>.<span class="cm-variable">demo</span>.<span class="cm-variable">config</span>;</span></pre>
                                </div>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">realm</span>.<span class="cm-variable">jdbc</span>.<span class="cm-variable">JdbcRealm</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">realm</span>.<span class="cm-variable">text</span>.<span class="cm-variable">IniRealm</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">spring</span>.<span class="cm-variable">web</span>.<span class="cm-variable">ShiroFilterFactoryBean</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">apache</span>.<span class="cm-variable">shiro</span>.<span class="cm-variable">web</span>.<span class="cm-variable">mgt</span>.<span class="cm-variable">DefaultWebSecurityManager</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span class="cm-variable">Bean</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">org</span>.<span class="cm-variable">springframework</span>.<span class="cm-variable">context</span>.<span class="cm-variable">annotation</span>.<span class="cm-variable">Configuration</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">javax</span>.<span class="cm-variable">sql</span>.<span class="cm-variable">DataSource</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">util</span>.<span class="cm-variable">HashMap</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">util</span>.<span class="cm-variable">Map</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Configuration</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">ShiroConfig</span> {</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">JdbcRealm</span> <span class="cm-variable">getJdbcRealm</span>(<span class="cm-variable">DataSource</span> <span class="cm-variable">dataSource</span>){</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">JdbcRealm</span> <span class="cm-variable">jdbcRealm</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">JdbcRealm</span>();</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//JdbcRealm会自动从数据查询用户及权限数据（数据库的表结构要符合JdbcRealm的规范）</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">jdbcRealm</span>.<span class="cm-variable">setDataSource</span>(<span class="cm-variable">dataSource</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//JdbcRealm默认开启认证功能，需要手动开启授权功能</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">jdbcRealm</span>.<span class="cm-variable">setPermissionsLookupEnabled</span>(<span class="cm-atom">true</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">jdbcRealm</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">DefaultWebSecurityManager</span> <span class="cm-variable">getDefaultWebSecurityManager</span>(<span class="cm-variable">JdbcRealm</span> <span class="cm-variable">jdbcRealm</span>){</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">DefaultWebSecurityManager</span> <span class="cm-variable">securityManager</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">DefaultWebSecurityManager</span>();</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//securityManager要完成校验，需要realm</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">securityManager</span>.<span class="cm-variable">setRealm</span>(<span class="cm-variable">jdbcRealm</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">securityManager</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Bean</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">ShiroFilterFactoryBean</span> <span class="cm-variable">shiroFilter</span>(<span class="cm-variable">DefaultWebSecurityManager</span> <span class="cm-variable">securityManager</span>){</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ShiroFilterFactoryBean</span> <span class="cm-variable">filter</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ShiroFilterFactoryBean</span>();</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//过滤器就是Shiro进行权限校验的核心，进行认证和授权是需要SecurityManager的</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filter</span>.<span class="cm-variable">setSecurityManager</span>(<span class="cm-variable">securityManager</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//设置shiro的拦截规则</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//anon  匿名用户可访问</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//authc 认证用户可访问</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//user  使用RememberMe的用户可访问</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//perms 对应权限可访问</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//role  对应角色可访问</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Map</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>,<span class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">filterMap</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">HashMap</span><span class="cm-operator">&lt;&gt;</span>();</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/login.html"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/user/login"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/static/**"</span>,<span class="cm-string">"anon"</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filterMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"/**"</span>,<span class="cm-string">"authc"</span>);</span></pre>
                                <div class="" style="position: relative;">
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre>
                                </div>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filter</span>.<span class="cm-variable">setFilterChainDefinitionMap</span>(<span class="cm-variable">filterMap</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//filter.setLoginUrl("/");</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//设置未授权的访问路径</span></span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">filter</span>.<span class="cm-variable">setUnauthorizedUrl</span>(<span class="cm-string">"/login.html"</span>);</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">filter</span>;</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre>
                                </div>
                                </div>
                                </div>
                                </div>
                                </div>
                                <div
                                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1344px;">
                                </div>
                                <div class="CodeMirror-gutters" style="display: none; height: 1344px;"></div>
                                </div>
                                </div>
                                </pre>
                            </li>
                        </ul>
                    </blockquote>
                    <p><span>七、Shiro的标签使用</span></p>
                    <blockquote>
                        <p><span>当用户认证进入到主页之后，需要显示用户信息以及当前用户的权限信息，Shiro就提供了一套标签用于页面来进行权限数据的呈现</span></p>
                    </blockquote>
                    <p><span>Shiro提供了可供JSP使用的标签以及thymeleaf中标签</span></p>
                    <ul>
                        <li>
                            <p><span>JSP页面引用：</span></p>
                            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                lang="jsp"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="jsp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                            </div>
                            <div class="CodeMirror-measure"></div>
                            <div style="position: relative; z-index: 1;"></div>
                            <div class="CodeMirror-code" role="presentation">
                                <div class="CodeMirror-activeline" style="position: relative;">
                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                        style="left: 0px; width: 0px;"></div>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;%<span class="cm-meta">@</span> <span class="cm-variable">taglib</span> <span class="cm-variable">prefix</span><span class="cm-operator">=</span><span class="cm-string">"shiro"</span> <span class="cm-variable">uri</span><span class="cm-operator">=</span><span class="cm-string">"http://shiro.apache.org/tags"</span> %&gt;</span></pre>
                                </div>
                            </div>
                            </div>
                            </div>
                            </div>
                            </div>
                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 22px;">
                            </div>
                            <div class="CodeMirror-gutters" style="display: none; height: 22px;"></div>
                            </div>
                            </div>
                            </pre>
                        </li>
                        <li>
                            <p><span>thymeleaf模板中引用</span></p>
                            <p><span>在pom.xml文件中导入thymeleaf模板对shiro标签支持的依赖</span></p>
                            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                            </div>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span>com.github.theborakompanioni<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">groupId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span>thymeleaf-extras-shiro<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">artifactId</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span>2.0.0<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">version</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">dependency</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                            </div>
                            </div>
                            </div>
                            </div>
                            </div>
                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 112px;">
                            </div>
                            <div class="CodeMirror-gutters" style="display: none; height: 112px;"></div>
                            </div>
                            </div>
                            </pre>
                            <p><span>在ShiroConfig配置Shiro的</span></p>
                            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Bean</span></span></pre>
                            </div>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-variable">ShiroDialect</span> <span class="cm-def">getShiroDialect</span>(){</span></pre>
                            <pre class=" CodeMirror-line "
                                role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">new</span> <span class="cm-variable">ShiroDialect</span>();</span></pre>
                            <div class="" style="position: relative;">
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre>
                            </div>
                            </div>
                            </div>
                            </div>
                            </div>
                            </div>
                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 90px;">
                            </div>
                            <div class="CodeMirror-gutters" style="display: none; height: 90px;"></div>
                            </div>
                            </div>
                            </pre>
                            <p><span>thymeleaf模板中引入Shiro的命名空间</span></p>
                            <pre lang="html" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                spellcheck="false"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre>
                            </div>
                            <div class="CodeMirror-measure"></div>
                            <div style="position: relative; z-index: 1;"></div>
                            <div class="CodeMirror-code" role="presentation">
                                <div class="CodeMirror-activeline" style="position: relative;">
                                    <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                    <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                        style="left: 0px; width: 0px;"></div>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">html</span> <span class="cm-attribute">xmlns:th</span>=<span class="cm-string">"http://www.thymeleaf.org"</span></span></pre>
                                </div>
                                <div class="" style="position: relative;">
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-attribute">xmlns:shiro</span>=<span class="cm-string">"http://www.pollix.at/thymeleaf/shiro "</span><span class="cm-tag cm-bracket">&gt;</span> &nbsp;</span></pre>
                                </div>
                                <pre class=" CodeMirror-line "
                                    role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                            </div>
                            </div>
                            </div>
                            </div>
                            </div>
                            <div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 67px;">
                            </div>
                            <div class="CodeMirror-gutters" style="display: none; height: 67px;"></div>
                            </div>
                            </div>
                            </pre>
                            <p><span>常用标签</span></p>
                            <blockquote>
                                <p><span>guest，判断用户是否是游客身份，如果是游客身份则显示此标签内容</span></p>
                                <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                    lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                                </div>
                                <div class="CodeMirror-measure"></div>
                                <div style="position: relative; z-index: 1;"></div>
                                <div class="CodeMirror-code" role="presentation">
                                    <div class="CodeMirror-activeline" style="position: relative;">
                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                            style="left: 0px; width: 0px;"></div>
                                        <pre class=" CodeMirror-line "
                                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:guest</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    </div>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  欢迎游客访问，<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"login.html"</span><span class="cm-tag cm-bracket">&gt;</span>登录<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:guest</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                </div>
                                </div>
                                </div>
                                </div>
                                </div>
                                <div
                                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 67px;">
                                </div>
                                <div class="CodeMirror-gutters" style="display: none; height: 67px;"></div>
                                </div>
                                </div>
                                </pre>
                                <p><span>user，判断用户是否是认证身份，如果是认证身份则显示此标签内容</span></p>
                                <p><span>principal，获取当前登录用户名</span></p>
                                <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded"
                                    lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                                </div>
                                <div class="CodeMirror-measure"></div>
                                <div style="position: relative; z-index: 1;"></div>
                                <div class="CodeMirror-code" role="presentation">
                                    <div class="CodeMirror-activeline" style="position: relative;">
                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                            style="left: 0px; width: 0px;"></div>
                                        <pre class=" CodeMirror-line "
                                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:user</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    </div>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  用户[<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:principal</span><span class="cm-tag cm-bracket">/&gt;</span>]欢迎您！</span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:user</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                </div>
                                </div>
                                </div>
                                </div>
                                </div>
                                <div
                                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 67px;">
                                </div>
                                <div class="CodeMirror-gutters" style="display: none; height: 67px;"></div>
                                </div>
                                </div>
                                </pre>
                                <p><span>noAuthenticated/authenticated</span></p>
                                <p><span>hasRole</span></p>
                                <p><span>hasPermission</span></p>
                                <pre spellcheck="false" class="md-fences md-end-block md-focus ty-contain-cm modeLoaded" lang="html"
                                    style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap CodeMirror-focused" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre>
                                </div>
                                <div class="CodeMirror-measure"></div>
                                <div style="position: relative; z-index: 1;"></div>
                                <div class="CodeMirror-code" role="presentation" style="">
                                    <div class="CodeMirror-activeline" style="position: relative;">
                                        <div class="CodeMirror-activeline-background CodeMirror-linebackground"></div>
                                        <div class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                                            style="left: 0px; width: 0px;"></div>
                                        <pre class=" CodeMirror-line "
                                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">&lt;!DOCTYPE html&gt;</span></span></pre>
                                    </div>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">html</span> <span class="cm-attribute">xmlns:th</span>=<span class="cm-string">"http://www.thymeleaf.org"</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-attribute">xmlns:shiro</span>=<span class="cm-string">"http://www.pollix.at/thymeleaf/shiro "</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">meta</span> <span class="cm-attribute">charset</span>=<span class="cm-string">"UTF-8"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span>Title<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  index</span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">hr</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:guest</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  欢迎游客访问，<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"login.html"</span><span class="cm-tag cm-bracket">&gt;</span>登录<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:guest</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:user</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  用户[<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:principal</span><span class="cm-tag cm-bracket">/&gt;</span>]欢迎您！</span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  当前用户为<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasRole</span> <span class="cm-attribute">name</span>=<span class="cm-string">"admin"</span><span class="cm-tag cm-bracket">&gt;</span>超级管理员<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:hasRole</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasRole</span> <span class="cm-attribute">name</span>=<span class="cm-string">"cmanager"</span><span class="cm-tag cm-bracket">&gt;</span>仓库人员<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:hasRole</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasRole</span> <span class="cm-attribute">name</span>=<span class="cm-string">"xmanager"</span><span class="cm-tag cm-bracket">&gt;</span>销售人员<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:hasRole</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasRole</span> <span class="cm-attribute">name</span>=<span class="cm-string">"kmanager"</span><span class="cm-tag cm-bracket">&gt;</span>客服人员<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:hasRole</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasRole</span> <span class="cm-attribute">name</span>=<span class="cm-string">"zmanager"</span><span class="cm-tag cm-bracket">&gt;</span>行政人员<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:hasRole</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">shiro:user</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">hr</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  仓库管理</span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:c:save"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>入库<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:c:delete"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>出库<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:c:update"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>修改<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:c:find"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>查询<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  订单管理</span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:x:save"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>添加订单<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:x:delete"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>删除订单<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:x:update"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>修改订单<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:x:find"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>查询订单<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  客户管理</span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:k:save"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>添加客户<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:k:delete"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>删除客户<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:k:update"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>修改客户<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <div class="" style="position: relative;">
                                        <pre class=" CodeMirror-line "
                                            role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">shiro:hasPermission</span> <span class="cm-attribute">name</span>=<span class="cm-string">"sys:k:find"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#"</span><span class="cm-tag cm-bracket">&gt;</span>查询客户<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">shiro:hasPermission</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    </div>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                    <pre class=" CodeMirror-line "
                                        role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></pre>
                                </div>
                                </div>
                                </div>
                                </div>
                                </div>
                                <div
                                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1098px;">
                                </div>
                                <div class="CodeMirror-gutters" style="display: none; height: 1098px;"></div>
                                </div>
                                </div>
                                </pre>
                            </blockquote>
                        </li>
                    </ul>
                    </div>
                </section>
            </article>
        </div>
    </div>
</div>